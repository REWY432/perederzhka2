# üêï DogStay Features Pack

–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è DogStay Manager:

## üì¶ –ß—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ

### 1. –ò—Å—Ç–æ—Ä–∏—è –≤–∏–∑–∏—Ç–æ–≤ (`VisitHistory`)
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é –≤—Å–µ—Ö –≤–∏–∑–∏—Ç–æ–≤ —Å–æ–±–∞–∫–∏:
- –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∏–∑–∏—Ç–æ–≤, –æ–±—â–∏–π –¥–æ—Ö–æ–¥, —Å—Ä–µ–¥–Ω—è—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- VIP-—Å—Ç–∞—Ç—É—Å –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ (5+ –≤–∏–∑–∏—Ç–æ–≤ –∏–ª–∏ 50k+ –¥–æ—Ö–æ–¥–∞)
- –£—Ä–æ–≤–Ω–∏ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏: bronze, silver, gold, platinum
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è—Ö

```tsx
import { VisitHistory } from './features';

<VisitHistory
  dogName="Buddy"
  bookings={allBookings}
  isOpen={showHistory}
  onClose={() => setShowHistory(false)}
/>
```

### 2. –õ–∏—Å—Ç –æ–∂–∏–¥–∞–Ω–∏—è (`WaitlistManager`)
–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏ –≤ —Ä–µ–∂–∏–º–µ –æ–∂–∏–¥–∞–Ω–∏—è:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –º–µ—Å—Ç
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–æ –æ—á–µ—Ä–µ–¥–∏ (first come, first served)
- –ò–Ω–¥–∏–∫–∞—Ü–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤ –¥–∞—Ç
- –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –¥–æ—Ö–æ–¥ –æ—Ç –ª–∏—Å—Ç–∞ –æ–∂–∏–¥–∞–Ω–∏—è

```tsx
import { WaitlistManager } from './features';

<WaitlistManager
  bookings={bookings}
  maxCapacity={10}
  onConfirm={(id) => updateStatus(id, 'CONFIRMED')}
  onCancel={(id) => updateStatus(id, 'CANCELLED')}
  onNotify={(booking, message) => sendTelegram(message)}
/>
```

### 3. –ë—ã—Å—Ç—Ä–æ–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ (`QuickExtendButton`)
–ö–Ω–æ–ø–∫–∞ –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–¥–ª–µ–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è:
- –ë—ã—Å—Ç—Ä—ã–π +1 –¥–µ–Ω—å –æ–¥–Ω–∏–º –∫–ª–∏–∫–æ–º
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å –¥–ª—è –≤—ã–±–æ—Ä–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–Ω–µ–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
- –†–∞—Å—á—ë—Ç –¥–æ–ø–ª–∞—Ç—ã

```tsx
import { QuickExtendButton } from './features';

<QuickExtendButton
  booking={booking}
  allBookings={allBookings}
  maxCapacity={10}
  onExtend={(id, newCheckOut) => updateBooking(id, { checkOut: newCheckOut })}
/>
```

### 4. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ–∫–∞ (`ReceiptButton` + `receiptGenerator`)
–°–æ–∑–¥–∞–Ω–∏–µ –∏ –ø–µ—á–∞—Ç—å —á–µ–∫–æ–≤ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤:
- –ö—Ä–∞—Å–∏–≤—ã–π HTML —á–µ–∫ —Å –±—Ä–µ–Ω–¥–∏–Ω–≥–æ–º
- –í—ã–±–æ—Ä —Å–ø–æ—Å–æ–±–∞ –æ–ø–ª–∞—Ç—ã
- –ü–µ—á–∞—Ç—å / –°–∫–∞—á–∏–≤–∞–Ω–∏–µ / –ü–æ–¥–µ–ª–∏—Ç—å—Å—è (Web Share API)
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ –∏ —à—Ç—Ä–∞—Ñ–æ–≤

```tsx
import { ReceiptButton } from './features';

<ReceiptButton
  booking={booking}
  settings={settings}
/>

// –ò–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ:
import { printReceipt, downloadReceiptHTML } from './features';

printReceipt({ booking, settings, paymentMethod: '–ö–∞—Ä—Ç–∞' });
```

### 5. –°–µ–∑–æ–Ω–Ω–æ—Å—Ç—å + –ü—Ä–æ–≥–Ω–æ–∑ –¥–æ—Ö–æ–¥–∞ (`Analytics`)
–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞:
- –°–µ–∑–æ–Ω–Ω–æ—Å—Ç—å –ø–æ –º–µ—Å—è—Ü–∞–º (—Ü–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ –ø–æ —Å–µ–∑–æ–Ω–∞–º)
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–∏–∫–æ–≤—ã—Ö –∏ –Ω–∏–∑–∫–∏—Ö —Å–µ–∑–æ–Ω–æ–≤
- –ü—Ä–æ–≥–Ω–æ–∑ –¥–æ—Ö–æ–¥–∞ –Ω–∞ 12 –º–µ—Å—è—Ü–µ–≤ –≤–ø–µ—Ä—ë–¥
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–æ—à–ª—ã–º –≥–æ–¥–æ–º

```tsx
import { Analytics } from './features';

<Analytics bookings={bookings} />
```

### 6. –£–ª—É—á—à–µ–Ω–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ (`BookingCardEnhanced`)
–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Å–æ –≤—Å–µ–º–∏ –Ω–æ–≤—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏:
- –ë–µ–π–¥–∂ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤–∏–∑–∏—Ç–æ–≤
- –ö–Ω–æ–ø–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞
- –ë—ã—Å—Ç—Ä–æ–µ –ø—Ä–æ–¥–ª–µ–Ω–∏–µ
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —á–µ–∫–∞

```tsx
import { BookingCardEnhanced } from './features';

<BookingCardEnhanced
  booking={booking}
  allBookings={allBookings}
  maxCapacity={10}
  settings={settings}
  onEdit={handleEdit}
  onDelete={handleDelete}
  onExtend={handleExtend}
/>
```

---

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã

```
dogstay-features/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ VisitHistory.tsx
‚îÇ   ‚îú‚îÄ‚îÄ WaitlistManager.tsx
‚îÇ   ‚îú‚îÄ‚îÄ QuickExtendButton.tsx
‚îÇ   ‚îú‚îÄ‚îÄ ReceiptButton.tsx
‚îÇ   ‚îú‚îÄ‚îÄ Analytics.tsx
‚îÇ   ‚îî‚îÄ‚îÄ BookingCardEnhanced.tsx
‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îî‚îÄ‚îÄ receiptGenerator.ts
‚îú‚îÄ‚îÄ locales/
‚îÇ   ‚îú‚îÄ‚îÄ features-ru.json
‚îÇ   ‚îî‚îÄ‚îÄ features-en.json
‚îî‚îÄ‚îÄ index.ts
```

### 2. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–≤–æ–¥—ã

–í `locales/ru.json`:
```json
{
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã
  "history": { ... },
  "waitlist": { ... },
  "receipt": { ... },
  "analytics": { ... }
}
```

### 3. –î–æ–±–∞–≤—å—Ç–µ —Å—Ç–∞—Ç—É—Å WAITLIST

–í `types.ts`:
```typescript
export enum BookingStatus {
  WAITLIST = 'WAITLIST',  // <-- –¥–æ–±–∞–≤–∏—Ç—å
  REQUEST = 'REQUEST',
  CONFIRMED = 'CONFIRMED',
  COMPLETED = 'COMPLETED',
  CANCELLED = 'CANCELLED'
}
```

### 4. –û–±–Ω–æ–≤–∏—Ç–µ –±—ç–∫–µ–Ω–¥

–í `backend/Code.js` –¥–æ–±–∞–≤—å—Ç–µ –∫–æ–ª–æ–Ω–∫—É `status` —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º `WAITLIST` –µ—Å–ª–∏ –Ω—É–∂–Ω–æ.

---

## üé® –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç Tailwind CSS –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç:
- ‚úÖ –°–≤–µ—Ç–ª–∞—è / —Ç—ë–º–Ω–∞—è —Ç–µ–º–∞
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω
- ‚úÖ –ê–Ω–∏–º–∞—Ü–∏–∏ framer-motion

---

## üì± –ú–æ–±–∏–ª—å–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞

- Web Share API –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —á–µ–∫–æ–≤ (iOS/Android)
- –¢–∞—á-–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏
- –°–≤–∞–π–ø-–∂–µ—Å—Ç—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å)

---

## üîú TODO

- [ ] Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –ª–∏—Å—Ç–∞ –æ–∂–∏–¥–∞–Ω–∏—è
- [ ] –≠–∫—Å–ø–æ—Ä—Ç —á–µ–∫–æ–≤ –≤ PDF (—Ç—Ä–µ–±—É–µ—Ç jsPDF)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Telegram –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- [ ] –ü–µ—á–∞—Ç—å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –Ω–∞ –¥–µ–Ω—å/–Ω–µ–¥–µ–ª—é
